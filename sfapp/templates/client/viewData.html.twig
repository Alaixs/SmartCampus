<!DOCTYPE html>
<html lang="fr">
<head>
    <title>SmartCampus</title>
    <link rel="stylesheet" href="{{ asset('assets/css/viewData.css') }}">
    <link rel="icon" href="{{ asset('assets/img/favicon.ico') }}" />
</head>

    <body>

        {% include 'partial/header.html.twig'%}

        {% set currentDate = 'now'|date('d-m') %}
        {% set currentDateSplit = currentDate|split('-') %}

        {% set summerEndingDate = '31-08' %}
        {% set summerEndingDateSplit = summerEndingDate|split('-') %}

        {% set autumnEndingDate = '30-11' %}
        {% set autumnEndingDateSplit = autumnEndingDate|split('-') %}

        {% set winterEndingDate = '28-02' %}
        {% set winterEndingDateSplit = winterEndingDate|split('-') %}

        {% set springEndingDate = '31-05' %}
        {% set springEndingDateSplit = springEndingDate|split('-') %}

        <section>
            <div class="dataVisualisation">
                <div class="dataVisualisationTitle">
                    Données récupérées
                </div>
                <div class="displayData">
                    <div>
                        <div class="dataType">Température</div>
                        <div class="data">
                            {{ temp[0] }} °C
                        </div>
                        <div class="dataComfort tempComfort">
                            {% if (currentDate > springEndingDate and currentDate <= summerEndingDate ) %}

                                {% if (temp[0] > 28 or temp[0] < 17) %}
                                    Inconfortable
                                    <style>
                                        .tempComfort {
                                            background-color: #EEA2A2;
                                        }
                                    </style>
                                {% else %}
                                    Confortable
                                    <style>
                                        .tempComfort {
                                            background-color: #ACEEA2;
                                        }
                                    </style>
                                {% endif %}

                            {% else %}
                                {% if (temp[0] > 21 or temp[0] < 17) %}
                                    Inconfortable
                                    <style>
                                        .tempComfort {
                                            background-color: #EEA2A2;
                                        }
                                    </style>
                                {% else %}
                                    Confortable
                                    <style>
                                        .tempComfort {
                                            background-color: #ACEEA2;
                                        }
                                    </style>
                                {% endif %}

                            {% endif %}

                        </div>
                    </div>
                    <div>
                        <div class="dataType">Humidité</div>
                        <div class="data">
                            {{ humidity[0] }} %
                        </div>
                        <div class="dataComfort humComfort">
                            {% if (humidity[0] > 70 and temp[0] < 20) %}
                                Inconfortable
                                <style>
                                    .humComfort {
                                        background-color: #EEA2A2;
                                    }
                                </style>
                            {% else %}
                                Confortable
                                <style>
                                    .humComfort {
                                        background-color: #ACEEA2;
                                    }
                                </style>
                            {% endif %}
                        </div>
                    </div>
                    <div>
                        <div class="dataType">CO2</div>
                        <div class="data">
                            {{ co2[0] }} PPM
                        </div>
                        <div class="dataComfort co2Comfort">
                            {% if (co2[0] >= 400 and co2[0] < 1000) %}
                                Confortable
                                <style>
                                    .co2Comfort {
                                        background-color: #ACEEA2;
                                    }
                                </style>
                            {% elseif (co2[0] >= 1000 or co2[0] < 1500) %}
                                Inquiétant
                                <style>
                                    .co2Comfort {
                                        background-color: #eec5a2;
                                    }
                                </style>
                            {% else %}
                                Dangereux
                                <style>
                                    .co2Comfort {
                                        background-color: #EEA2A2;
                                    }
                                </style>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </section>

        {% include 'partial/footer.html.twig'%}

    </body>
</html>
